/*
 * Copyright (c) 2024 Rockchip Electronics Co., Ltd.
 *
 * SPDX-License-Identifier: Apache-2.0
 *
 * Change Logs:
 * Date           Author       Notes
 * 2024-02-07     Cliff Chen   first implementation
 */

#include <rthw.h>
#include <rtthread.h>

#include "board.h"
#include "drv_clock.h"

#if defined(RT_USING_CLK_CONFIG0)
RT_WEAK const struct clk_init clk_inits[] =
{
    INIT_CLK("PLL_GPLL", PLL_GPLL, 800000000),
    INIT_CLK("PLL_VPLL0", PLL_VPLL0, 983040000),
    INIT_CLK("PLL_VPLL1", PLL_VPLL1, 903168000),
    INIT_CLK("PLL_GPLL_DIV", PLL_GPLL_DIV, 200000000),
    INIT_CLK("PLL_VPLL0_DIV", PLL_VPLL0_DIV, 122880000),
    INIT_CLK("PLL_VPLL1_DIV", PLL_VPLL1_DIV, 112896000),
    INIT_CLK("CLK_DSP0_SRC", CLK_DSP0_SRC, 400000000),
    INIT_CLK("CLK_DSP0", CLK_DSP0, 700000000),
    INIT_CLK("CLK_DSP1", CLK_DSP1, 491520000),
    INIT_CLK("CLK_DSP2", CLK_DSP2, 491520000),
    INIT_CLK("ACLK_NPU", ACLK_NPU, 400000000),
    INIT_CLK("HCLK_NPU", HCLK_NPU, 150000000),
    INIT_CLK("CLK_STARSE0", CLK_STARSE0, 400000000),
    INIT_CLK("CLK_STARSE1", CLK_STARSE1, 400000000),
    INIT_CLK("ACLK_BUS", ACLK_BUS, 300000000),
    INIT_CLK("HCLK_BUS", HCLK_BUS, 150000000),
    INIT_CLK("PCLK_BUS", PCLK_BUS, 150000000),
    INIT_CLK("ACLK_HSPERI", ACLK_HSPERI, 150000000),
    INIT_CLK("ACLK_PERIB", ACLK_PERIB, 150000000),
    INIT_CLK("HCLK_PERIB", HCLK_PERIB, 150000000),
    INIT_CLK("CLK_INT_VOICE0", CLK_INT_VOICE0, 49152000),
    INIT_CLK("CLK_INT_VOICE1", CLK_INT_VOICE1, 45158400),
    INIT_CLK("CLK_INT_VOICE2", CLK_INT_VOICE2, 98304000),
    INIT_CLK("CLK_FRAC_UART0", CLK_FRAC_UART0, 128000000),
    INIT_CLK("CLK_FRAC_UART1", CLK_FRAC_UART1, 48000000),
    INIT_CLK("CLK_FRAC_VOICE0", CLK_FRAC_VOICE0, 24576000),
    INIT_CLK("CLK_FRAC_VOICE1", CLK_FRAC_VOICE1, 22579200),
    INIT_CLK("CLK_FRAC_COMMON0", CLK_FRAC_COMMON0, 12288000),
    INIT_CLK("CLK_FRAC_COMMON1", CLK_FRAC_COMMON1, 11289600),
    INIT_CLK("CLK_FRAC_COMMON2", CLK_FRAC_COMMON2, 8192000),
    INIT_CLK("PCLK_PMU", PCLK_PMU, 100000000),
    INIT_CLK("CLK_32K_FRAC", CLK_32K_FRAC, 32768),
    INIT_CLK("CLK_MAC_OUT", CLK_MAC_OUT, 50000000),
    INIT_CLK("CLK_CORE_CRYPTO", CLK_CORE_CRYPTO, 300000000),
    INIT_CLK("CLK_PKA_CRYPTO", CLK_PKA_CRYPTO, 300000000),
    /* Audio */
    INIT_CLK("MCLK_PDM", MCLK_PDM, 100000000),
    INIT_CLK("CLKOUT_PDM", CLKOUT_PDM, 3072000),
    INIT_CLK("MCLK_SPDIFTX", MCLK_SPDIFTX, 6144000),
    INIT_CLK("MCLK_OUT_SAI0", MCLK_OUT_SAI0, 12288000),
    INIT_CLK("MCLK_OUT_SAI1", MCLK_OUT_SAI1, 12288000),
    INIT_CLK("MCLK_OUT_SAI2", MCLK_OUT_SAI2, 12288000),
    INIT_CLK("MCLK_OUT_SAI3", MCLK_OUT_SAI3, 12288000),
    INIT_CLK("MCLK_OUT_SAI4", MCLK_OUT_SAI4, 12288000),
    INIT_CLK("MCLK_OUT_SAI5", MCLK_OUT_SAI5, 12288000),
    INIT_CLK("MCLK_OUT_SAI6", MCLK_OUT_SAI6, 12288000),
    INIT_CLK("MCLK_OUT_SAI7", MCLK_OUT_SAI7, 12288000),
    INIT_CLK("CLK_TSADC", CLK_TSADC, 1200000),
    INIT_CLK("CLK_TSADC_TSEN", CLK_TSADC_TSEN, 12000000),
    INIT_CLK("SCLK_SAI0", SCLK_SAI0, 12288000),
    INIT_CLK("SCLK_SAI1", SCLK_SAI1, 12288000),
    INIT_CLK("SCLK_SAI2", SCLK_SAI2, 12288000),
    INIT_CLK("SCLK_SAI3", SCLK_SAI3, 12288000),
    INIT_CLK("SCLK_SAI4", SCLK_SAI4, 12288000),
    INIT_CLK("SCLK_SAI5", SCLK_SAI5, 12288000),
    INIT_CLK("SCLK_SAI6", SCLK_SAI6, 12288000),
    INIT_CLK("SCLK_SAI7", SCLK_SAI7, 12288000),
    { /* sentinel */ },
};
#elif defined(RT_USING_CLK_CONFIG1)
RT_WEAK const struct clk_init clk_inits[] =
{
    INIT_CLK("PLL_GPLL", PLL_GPLL, 800000000),
    INIT_CLK("PLL_VPLL0", PLL_VPLL0, 1179648000),
    INIT_CLK("PLL_VPLL1", PLL_VPLL1, 983040000),
    INIT_CLK("PLL_GPLL_DIV", PLL_GPLL_DIV, 200000000),
    INIT_CLK("PLL_VPLL0_DIV", PLL_VPLL0_DIV, 147456000),
    INIT_CLK("PLL_VPLL1_DIV", PLL_VPLL1_DIV, 122880000),
    INIT_CLK("CLK_DSP0_SRC", CLK_DSP0_SRC, 400000000),
    INIT_CLK("CLK_DSP0", CLK_DSP0, 700000000),
    INIT_CLK("CLK_DSP1", CLK_DSP1, 491520000),
    INIT_CLK("CLK_DSP2", CLK_DSP2, 491520000),
    INIT_CLK("ACLK_NPU", ACLK_NPU, 589824000),
    INIT_CLK("HCLK_NPU", HCLK_NPU, 150000000),
    INIT_CLK("CLK_STARSE0", CLK_STARSE0, 400000000),
    INIT_CLK("CLK_STARSE1", CLK_STARSE1, 400000000),
    INIT_CLK("ACLK_BUS", ACLK_BUS, 300000000),
    INIT_CLK("HCLK_BUS", HCLK_BUS, 150000000),
    INIT_CLK("PCLK_BUS", PCLK_BUS, 150000000),
    INIT_CLK("ACLK_HSPERI", ACLK_HSPERI, 150000000),
    INIT_CLK("ACLK_PERIB", ACLK_PERIB, 150000000),
    INIT_CLK("HCLK_PERIB", HCLK_PERIB, 150000000),
    INIT_CLK("CLK_INT_VOICE0", CLK_INT_VOICE0, 49152000),
    INIT_CLK("CLK_INT_VOICE1", CLK_INT_VOICE1, 45158400),
    INIT_CLK("CLK_INT_VOICE2", CLK_INT_VOICE2, 98304000),
    INIT_CLK("CLK_FRAC_UART0", CLK_FRAC_UART0, 64000000),
    INIT_CLK("CLK_FRAC_UART1", CLK_FRAC_UART1, 48000000),
    INIT_CLK("CLK_FRAC_VOICE0", CLK_FRAC_VOICE0, 24576000),
    INIT_CLK("CLK_FRAC_VOICE1", CLK_FRAC_VOICE1, 22579200),
    INIT_CLK("CLK_FRAC_COMMON0", CLK_FRAC_COMMON0, 12288000),
    INIT_CLK("CLK_FRAC_COMMON1", CLK_FRAC_COMMON1, 11289600),
    INIT_CLK("CLK_FRAC_COMMON2", CLK_FRAC_COMMON2, 8192000),
    INIT_CLK("PCLK_PMU", PCLK_PMU, 100000000),
    INIT_CLK("CLK_32K_FRAC", CLK_32K_FRAC, 32768),
    INIT_CLK("CLK_MAC_OUT", CLK_MAC_OUT, 50000000),
    INIT_CLK("CLK_CORE_CRYPTO", CLK_CORE_CRYPTO, 300000000),
    INIT_CLK("CLK_PKA_CRYPTO", CLK_PKA_CRYPTO, 300000000),
    /* Audio */
    INIT_CLK("MCLK_PDM", MCLK_PDM, 100000000),
    INIT_CLK("CLKOUT_PDM", CLKOUT_PDM, 3072000),
    INIT_CLK("MCLK_SPDIFTX", MCLK_SPDIFTX, 6144000),
    INIT_CLK("MCLK_OUT_SAI0", MCLK_OUT_SAI0, 12288000),
    INIT_CLK("MCLK_OUT_SAI1", MCLK_OUT_SAI1, 12288000),
    INIT_CLK("MCLK_OUT_SAI2", MCLK_OUT_SAI2, 12288000),
    INIT_CLK("MCLK_OUT_SAI3", MCLK_OUT_SAI3, 12288000),
    INIT_CLK("MCLK_OUT_SAI4", MCLK_OUT_SAI4, 12288000),
    INIT_CLK("MCLK_OUT_SAI5", MCLK_OUT_SAI5, 12288000),
    INIT_CLK("MCLK_OUT_SAI6", MCLK_OUT_SAI6, 12288000),
    INIT_CLK("MCLK_OUT_SAI7", MCLK_OUT_SAI7, 12288000),
    INIT_CLK("CLK_TSADC", CLK_TSADC, 1200000),
    INIT_CLK("CLK_TSADC_TSEN", CLK_TSADC_TSEN, 12000000),
    INIT_CLK("SCLK_SAI0", SCLK_SAI0, 12288000),
    INIT_CLK("SCLK_SAI1", SCLK_SAI1, 12288000),
    INIT_CLK("SCLK_SAI2", SCLK_SAI2, 12288000),
    INIT_CLK("SCLK_SAI3", SCLK_SAI3, 12288000),
    INIT_CLK("SCLK_SAI4", SCLK_SAI4, 12288000),
    INIT_CLK("SCLK_SAI5", SCLK_SAI5, 12288000),
    INIT_CLK("SCLK_SAI6", SCLK_SAI6, 12288000),
    INIT_CLK("SCLK_SAI7", SCLK_SAI7, 12288000),
    { /* sentinel */ },
};
#elif defined(RT_USING_CLK_CONFIG2)
RT_WEAK const struct clk_init clk_inits[] =
{
    INIT_CLK("PLL_GPLL", PLL_GPLL, 800000000),
    INIT_CLK("PLL_VPLL0", PLL_VPLL0, 1179648000),
    INIT_CLK("PLL_VPLL1", PLL_VPLL1, 903168000),
    INIT_CLK("PLL_GPLL_DIV", PLL_GPLL_DIV, 200000000),
    INIT_CLK("PLL_VPLL0_DIV", PLL_VPLL0_DIV, 147456000),
    INIT_CLK("PLL_VPLL1_DIV", PLL_VPLL1_DIV, 112896000),
    INIT_CLK("CLK_DSP0_SRC", CLK_DSP0_SRC, 400000000),
    INIT_CLK("CLK_DSP0", CLK_DSP0, 800000000),
    INIT_CLK("CLK_DSP1", CLK_DSP1, 589824000),
    INIT_CLK("CLK_DSP2", CLK_DSP2, 589824000),
    INIT_CLK("ACLK_NPU", ACLK_NPU, 589824000),
    INIT_CLK("HCLK_NPU", HCLK_NPU, 150000000),
    INIT_CLK("CLK_STARSE0", CLK_STARSE0, 400000000),
    INIT_CLK("CLK_STARSE1", CLK_STARSE1, 400000000),
    INIT_CLK("ACLK_BUS", ACLK_BUS, 300000000),
    INIT_CLK("HCLK_BUS", HCLK_BUS, 150000000),
    INIT_CLK("PCLK_BUS", PCLK_BUS, 150000000),
    INIT_CLK("ACLK_HSPERI", ACLK_HSPERI, 150000000),
    INIT_CLK("ACLK_PERIB", ACLK_PERIB, 150000000),
    INIT_CLK("HCLK_PERIB", HCLK_PERIB, 150000000),
    INIT_CLK("CLK_INT_VOICE0", CLK_INT_VOICE0, 49152000),
    INIT_CLK("CLK_INT_VOICE1", CLK_INT_VOICE1, 45158400),
    INIT_CLK("CLK_INT_VOICE2", CLK_INT_VOICE2, 98304000),
    INIT_CLK("CLK_FRAC_UART0", CLK_FRAC_UART0, 64000000),
    INIT_CLK("CLK_FRAC_UART1", CLK_FRAC_UART1, 48000000),
    INIT_CLK("CLK_FRAC_VOICE0", CLK_FRAC_VOICE0, 24576000),
    INIT_CLK("CLK_FRAC_VOICE1", CLK_FRAC_VOICE1, 22579200),
    INIT_CLK("CLK_FRAC_COMMON0", CLK_FRAC_COMMON0, 12288000),
    INIT_CLK("CLK_FRAC_COMMON1", CLK_FRAC_COMMON1, 11289600),
    INIT_CLK("CLK_FRAC_COMMON2", CLK_FRAC_COMMON2, 8192000),
    INIT_CLK("PCLK_PMU", PCLK_PMU, 100000000),
    INIT_CLK("CLK_32K_FRAC", CLK_32K_FRAC, 32768),
    INIT_CLK("CLK_MAC_OUT", CLK_MAC_OUT, 50000000),
    INIT_CLK("CLK_CORE_CRYPTO", CLK_CORE_CRYPTO, 300000000),
    INIT_CLK("CLK_PKA_CRYPTO", CLK_PKA_CRYPTO, 300000000),
    /* Audio */
    INIT_CLK("MCLK_PDM", MCLK_PDM, 100000000),
    INIT_CLK("CLKOUT_PDM", CLKOUT_PDM, 3072000),
    INIT_CLK("MCLK_SPDIFTX", MCLK_SPDIFTX, 6144000),
    INIT_CLK("MCLK_OUT_SAI0", MCLK_OUT_SAI0, 12288000),
    INIT_CLK("MCLK_OUT_SAI1", MCLK_OUT_SAI1, 12288000),
    INIT_CLK("MCLK_OUT_SAI2", MCLK_OUT_SAI2, 12288000),
    INIT_CLK("MCLK_OUT_SAI3", MCLK_OUT_SAI3, 12288000),
    INIT_CLK("MCLK_OUT_SAI4", MCLK_OUT_SAI4, 12288000),
    INIT_CLK("MCLK_OUT_SAI5", MCLK_OUT_SAI5, 12288000),
    INIT_CLK("MCLK_OUT_SAI6", MCLK_OUT_SAI6, 12288000),
    INIT_CLK("MCLK_OUT_SAI7", MCLK_OUT_SAI7, 12288000),
    INIT_CLK("CLK_TSADC", CLK_TSADC, 1200000),
    INIT_CLK("CLK_TSADC_TSEN", CLK_TSADC_TSEN, 12000000),
    INIT_CLK("SCLK_SAI0", SCLK_SAI0, 12288000),
    INIT_CLK("SCLK_SAI1", SCLK_SAI1, 12288000),
    INIT_CLK("SCLK_SAI2", SCLK_SAI2, 12288000),
    INIT_CLK("SCLK_SAI3", SCLK_SAI3, 12288000),
    INIT_CLK("SCLK_SAI4", SCLK_SAI4, 12288000),
    INIT_CLK("SCLK_SAI5", SCLK_SAI5, 12288000),
    INIT_CLK("SCLK_SAI6", SCLK_SAI6, 12288000),
    INIT_CLK("SCLK_SAI7", SCLK_SAI7, 12288000),
    { /* sentinel */ },
};
#endif
